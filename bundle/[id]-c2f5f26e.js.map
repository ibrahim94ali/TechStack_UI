{"version":3,"file":"[id]-c2f5f26e.js","sources":["../../src/PostForm.svelte","../../src/Post.svelte","../../src/pages/techPage/[id].svelte"],"sourcesContent":["<script>\r\n    import { addPost, editPost } from \"./data-service\";\r\n    import { createEventDispatcher } from 'svelte';\r\n    import { fade } from 'svelte/transition';\r\n\r\n    const dispatch = createEventDispatcher();\r\n    export let title = '', link = '', owner = '', techId;\r\n\r\n    let oldTitle = title;\r\n    let oldLink = link;\r\n    let oldOwner = owner;\r\n\r\n    export let isEditing = false;\r\n    let isValidForm = false;\r\n\r\n    async function onSavePost() {\r\n        const date = +(new Date);\r\n        await addPost(title, owner, link, techId , date).then(() => {\r\n            title = '';\r\n            link = '';\r\n            owner = '';\r\n        })\r\n    }\r\n\r\n    async function onEditPost() {\r\n        const date = +(new Date);\r\n        await editPost(title, owner, link, date, techId).then(() => {\r\n            dispatch('cancel');\r\n        });\r\n    }\r\n\r\n    function validator() {\r\n    if (!title || !owner || !link || (title === oldTitle && owner === oldOwner && link === oldLink)) {\r\n        isValidForm = false;\r\n    } else {\r\n        isValidForm = true;\r\n    }\r\n    }\r\n\r\n    function onCancelEditing() {\r\n        dispatch('cancel');\r\n    }\r\n\r\n    </script>\r\n    \r\n    <style>\r\n        .container {\r\n            background-color: #E6E8E6;\r\n            padding: 2rem;\r\n            color: #58355E;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            width: 70%;\r\n            height: 7rem;\r\n            margin: 2rem auto;\r\n            border-radius: 2rem;\r\n            transition: opacity 0.4s;\r\n        }\r\n    \r\n        input {\r\n            width: 35rem;\r\n        }\r\n\r\n        .meta-container {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: flex-end;\r\n        font-size: 1.6rem;\r\n        }\r\n\r\n        .btn-container {\r\n            margin-left: 1rem;\r\n        }\r\n\r\n        .input-group {\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n\r\n        .title-container {\r\n            max-width: 50rem;\r\n        }\r\n\r\n        .title {\r\n            flex: 2;\r\n        }\r\n\r\n        label {\r\n            margin-right: 1rem;\r\n            font-weight: 300;\r\n        }\r\n\r\n        #save-btn {\r\n            background-color: #58355E;\r\n            color: #e6e8e6;\r\n            margin-right: 1rem;\r\n        }\r\n\r\n        .empty-post {\r\n            opacity: 0.5;\r\n        }\r\n    \r\n    </style>\r\n    \r\n    <form class=\"container\"  on:submit|preventDefault={isEditing ? onEditPost : onSavePost} on:input=\"{validator}\" class:empty-post={!isEditing && !title && !owner && !link} in:fade>\r\n            <div class=\"input-group title-container\" class:title={isEditing}>\r\n                <label for=\"title\">Title:</label>\r\n                <input placeholder=\"{isEditing ? \"Post title\" : \"New Post Title\"}\" id=\"title\" bind:value=\"{title}\" autocomplete=\"off\" autofocus=\"{isEditing}\">\r\n            </div>\r\n            <div class=\"meta-container\">\r\n                <div class=\"input-group\">\r\n                    <label for=\"owner\">By:</label>\r\n                    <input placeholder=\"Created by\" id=\"owner\" bind:value=\"{owner}\" autocomplete=\"off\">\r\n                </div>\r\n                <div class=\"input-group\">\r\n                    <label for=\"link\">Link:</label>\r\n                    <input placeholder=\"Link\" id=\"link\" bind:value=\"{link}\" autocomplete=\"off\">\r\n                </div>\r\n            </div> \r\n\r\n            {#if !isEditing}\r\n        \r\n            <button id=\"save-btn\" type=\"submit\" disabled=\"{!title || !link || !owner}\">Save Post</button>\r\n            {:else }\r\n            <div class=\"btn-container\">\r\n                <button id=\"save-btn\" type=\"submit\" disabled=\"{!isValidForm}\">Update</button>\r\n                <button id=\"cancel-btn\" type=\"button\" on:click=\"{onCancelEditing}\" >Cancel</button>\r\n            </div>\r\n            {/if}\r\n        </form>","<script>\r\n    import { createEventDispatcher } from 'svelte';\r\n    import PostForm from './PostForm.svelte';\r\n    export let title;\r\n    export let owner;\r\n    export let link;\r\n    export let date;\r\n    export let id;\r\n\r\n    const dispatch = createEventDispatcher();\r\n\r\n    let isEditing = false;\r\n\r\n    function onPostDelete() {\r\n        dispatch('delete');\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .post-container {\r\n        background-color: #E6E8E6;\r\n        padding: 2rem;\r\n        color: #58355E;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        width: 70%;\r\n        height: 7rem;\r\n        margin: 2rem auto;\r\n        border-radius: 2rem;\r\n        box-shadow: 4px 8px 10px rgba(0, 0, 0, 0.3);\r\n    }\r\n\r\n    .meta-container {\r\n        display: flex;\r\n        flex-direction: column;\r\n        font-size: 1.6rem;\r\n    }\r\n    h2 {\r\n        font-size: 1.8rem;\r\n        font-family: 'Noto Sans JP', sans-serif;\r\n        font-weight: 600;\r\n        font-style: italic;\r\n        max-width: 50rem;\r\n        flex: 2;\r\n    }\r\n\r\n    p {\r\n        font-weight: 300;\r\n        margin: 0;\r\n    }\r\n\r\n    span {\r\n        font-weight: 400;\r\n        margin-left: 10px;\r\n    }\r\n\r\n    button {\r\n        width: 8rem;\r\n        font-size: 1.4rem;\r\n    }\r\n\r\n    #btn-del-post {\r\n        margin-left: 10px;\r\n        background-color: #B43333;\r\n        color: #E6E8E6;\r\n    }\r\n    #btn-edit-post {\r\n        background-color: #E6E8E6;\r\n        color: #58355E;\r\n    }\r\n</style>\r\n\r\n    {#if !isEditing}\r\n    <div class=\"post-container\">\r\n    <h2>\r\n        <a href={link} target=\"_blank\" rel=\"noopener\">{title}</a>\r\n    </h2> \r\n    <div class=\"meta-container\">\r\n        <p>By: <span>{owner}</span> </p>\r\n        <p>Date: <span>{new Date(+date).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: '2-digit'})}</span></p>\r\n    </div> \r\n    <div class=\"btns-container\">\r\n        <button id=\"btn-edit-post\" on:click={() => isEditing = true}> Edit </button>\r\n        <button id=\"btn-del-post\" on:click={onPostDelete}> Delete </button>\r\n    </div>\r\n</div>\r\n\r\n    {:else}\r\n        <PostForm techId={id} isEditing {title} {owner} {link} on:cancel={() => isEditing = false}/>\r\n    {/if}\r\n\r\n","<script>\r\nimport Post from \"../../Post.svelte\";\r\nimport { technologies } from \"../../stores\";\r\nimport { editPost, deletePost } from '../../data-service';\r\nimport Header from \"../../Header.svelte\";\r\nimport PostForm from \"../../PostForm.svelte\";\r\nimport { fade } from 'svelte/transition';\r\n\r\nexport let id;\r\n\r\nlet title;\r\nlet posts = [];\r\nlet index;\r\n\r\nconst unsbubTechs = technologies.subscribe(techs => {\r\n    if(techs.length) {\r\n        index = techs.findIndex(tech => tech.id === id);\r\n        title = techs[index].name;\r\n        posts = techs[index].posts\r\n    };\r\n})\r\n\r\nasync function onPostEdit({detail}) {\r\n    const { title, owner, link, id} = detail;\r\n    const now = new Date().getTime();\r\n    await editPost(title, owner, link, now, id);\r\n}\r\n\r\nasync function onPostDelete(id) {\r\n    await deletePost(id);\r\n}\r\n\r\n</script>\r\n    \r\n<style>\r\n    ul {\r\n        list-style: none;\r\n        padding: 0;\r\n    }\r\n    .no-posts {\r\n        text-align: center;\r\n        font-size: 1.6rem;\r\n        color: #e6e8e6;\r\n        margin-top: 2rem;\r\n    }\r\n    .posts-container {\r\n        padding: 2rem;\r\n    }\r\n    #new-post {\r\n        margin-bottom: 5rem;\r\n        box-shadow: none;\r\n    }\r\n</style>\r\n    \r\n    \r\n  <Header {title} posts={posts.length}/>\r\n  <div class=\"posts-container\">\r\n      <div id=\"new-post\">\r\n        <PostForm techId={id} />\r\n    </div>\r\n    {#if posts.length == 0}\r\n        <p class=\"no-posts\"> No posts yet... </p>\r\n        {:else}\r\n            <ul>\r\n                {#each posts as post, i}\r\n                <li in:fade={{duration: 500, delay: i * 50 }}>\r\n                    <Post {...post} on:edit={onPostEdit} on:delete={onPostDelete(post.id)}/>\r\n                </li>\r\n                {/each}\r\n            </ul> \r\n    {/if}\r\n</div>   \r\n    \r\n    \r\n    "],"names":["ctx","dispatch","createEventDispatcher","title","link","owner","techId","oldTitle","oldLink","oldOwner","isEditing","isValidForm","date","Date","addPost","then","editPost","toLocaleDateString","year","month","day","id","length","duration","delay","index","posts","technologies","subscribe","techs","findIndex","tech","name","detail","now","getTime","deletePost"],"mappings":"2iBA8HgEA,sLACCA,kCADDA,yKAHJA,OAAUA,OAASA,8EAAnBA,OAAUA,OAASA,yHAF7DA,0VAbmBA,KAAY,aAAe,0EAAkFA,qGAFhFA,geADoEA,MAAcA,MAAUA,MAAUA,wDAG7DA,oDAK/BA,6CAIPA,sHAZdA,KAAYA,KAAaA,QAAzBA,KAAYA,KAAaA,4CAAuBA,uCAGlEA,KAAY,aAAe,0DAAkFA,qBAAvCA,UAAAA,uBAFzCA,qBAOUA,UAAAA,qBAIPA,UAAAA,+FAZiEA,MAAcA,MAAUA,MAAUA,6GApG9JC,EAAWC,cACNC,EAAQ,YAAIC,EAAO,aAAIC,EAAQ,cAAIC,KAE1CC,EAAWJ,EACXK,EAAUJ,EACVK,EAAWJ,aAEJK,GAAY,KACnBC,GAAc,4MAGRC,OAAaC,WACbC,EAAQX,EAAOE,EAAOD,EAAME,EAASM,GAAMG,eAC7CZ,EAAQ,QACRC,EAAO,QACPC,EAAQ,+BAKNO,OAAaC,WACbG,EAASb,EAAOE,EAAOD,EAAMQ,EAAMN,GAAQS,WAC7Cd,EAAS,6BAQbU,MAHCR,GAAUE,GAAUD,IAASD,IAAUI,GAAYF,IAAUI,GAAYL,IAASI,gBAQnFP,EAAS,wBAoE0FE,gCAK/BE,gCAIPD,kLC5B3CJ,yJAAAA,+NATEa,MAAMb,MAAMiB,mBAAmB,SAAWC,KAAM,UAAWC,MAAO,QAASC,IAAK,4DAJrDpB,4DAGjCA,gKAHLA,kmBAQ2BA,8BARWA,sBAAtCA,eAGKA,sBACMa,MAAMb,MAAMiB,mBAAmB,SAAWC,KAAM,UAAWC,MAAO,QAASC,IAAK,8HAPlGpB,2UAtEKG,YACAE,WACAD,WACAQ,SACAS,WAELpB,EAAWC,QAEbQ,GAAY,gLAGZT,EAAS,mBAqEkCS,GAAY,WAMiBA,GAAY,yLCzBrEV,0BAALsB,4PAAKtB,aAALsB,qHAAAA,8DAAAA,qTAEYtB,8FAAeA,mCAAuBA,KAAaA,KAAKqB,MAAlBrB,KAAaA,KAAKqB,2IAAxDrB,sEADAuB,SAAU,IAAKC,MAAW,GAAJxB,kJAV3BA,KAAMsB,iCAGLtB,kDAED,GAAhBA,KAAMsB,gWALUtB,KAAMsB,4CAGLtB,0UAhDtBG,EAEAsB,MAJOJ,KAGPK,YAGgBC,EAAaC,WAAUC,IACpCA,EAAMP,SACLG,EAAQI,EAAMC,WAAUC,GAAQA,EAAKV,KAAOA,QAC5ClB,EAAQ0B,EAAMJ,GAAOO,UACrBN,EAAQG,EAAMJ,GAAOC,4EAIFO,gBACf9B,EAAKE,MAAEA,EAAKD,KAAEA,EAAIiB,GAAEA,GAAMY,EAC5BC,OAAUrB,MAAOsB,gBACjBnB,EAASb,EAAOE,EAAOD,EAAM8B,EAAKb,mBAGhBA,SAClBe,EAAWf"}